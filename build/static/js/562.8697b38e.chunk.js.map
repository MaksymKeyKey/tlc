{"version":3,"file":"static/js/562.8697b38e.chunk.js","mappings":";6JAKA,MA0EA,EA1EoBA,KAChB,MAAOC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,OAC1BC,EAAQC,IAAaF,EAAAA,EAAAA,UAAS,KAErCG,EAAAA,EAAAA,YAAU,KACNC,EAAcL,EAASM,EAAAA,EAAOH,EAAU,GACzC,IAGH,MAAME,EAAgBE,MAAOP,EAASM,EAAOH,KACzC,MAAMK,EAAQC,aAAaC,QAAQ,SACnC,GAAIF,EACA,IACI,MAAMG,QAAiBL,EAAMM,IAAI,8BAA+B,CAC5DC,QAAS,CAAE,cAAiB,UAAUL,QAEpC,KAAET,EAAI,OAAEG,GAAWS,EAASG,KAClCd,EAAQD,GACRI,EAAUD,EACd,CAAE,MAAOa,GACLC,QAAQD,MAAM,4BAA6BA,EAC/C,CACJ,EAiBJ,OACIE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,sGACHpB,GACGkB,EAAAA,EAAAA,MAAAI,EAAAA,SAAA,CAAAF,SAAA,EACIF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,2FAAmBpB,EAAKuB,aAC3BL,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,UAAQpB,EAAKwB,UAChBN,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,+CAAUpB,EAAKyB,UAElBJ,EAAAA,EAAAA,KAAA,MAAAD,SAAI,0FACHjB,EAAOuB,OAAS,GACbL,EAAAA,EAAAA,KAAA,MAAIF,UAAU,cAAaC,SACtBjB,EAAOwB,KAAI,CAACC,EAAOC,KAChBX,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,cAAkB,IAAEQ,EAAME,IAAI,KAACT,EAAAA,EAAAA,KAAA,UACvCA,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,kBAAsB,IAAEQ,EAAMA,MAAM,KAACP,EAAAA,EAAAA,KAAA,UAC7CA,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,gBAAoB,IAAEQ,EAAMG,OAH/BF,QAQjBR,EAAAA,EAAAA,KAAA,KAAAD,SAAG,uHAIXC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,mLAGPC,EAAAA,EAAAA,KAACW,EAAAA,GAAI,CAACC,GAAI,IAAIb,UACVC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,aAAae,QA3CtB1B,UACjB,IAE4B,aADDD,EAAAA,EAAM4B,KAAK,oCACrBC,SACTnC,EAAQ,MACRG,EAAU,IACVM,aAAa2B,WAAW,SACxBpB,QAAQqB,IAAI,2BAEpB,CAAE,MAAOtB,GACLC,QAAQD,MAAM,qBAAsBA,EACxC,GAgC6DI,SAAC,uCAExD","sources":["pages/regPages/UserProfile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport './userProfile.css';\r\n\r\nconst UserProfile = () => {\r\n    const [user, setUser] = useState(null);\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchUserData(setUser, axios, setOrders);\r\n    }, []);\r\n\r\n    //!!!!!!!!!!!!!!!!!!!!!!!!!!!! ВЫНЕСТИ ФУНКЦИЮ В smallFn !!!!!!!!!!!!!!!!!!!!!!\r\n    const fetchUserData = async (setUser, axios, setOrders) => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            try {\r\n                const response = await axios.get('http://13.60.221.226/api/me', {\r\n                    headers: { 'Authorization': `Bearer ${token}` }\r\n                });\r\n                const { user, orders } = response.data;\r\n                setUser(user);\r\n                setOrders(orders)\r\n            } catch (error) {\r\n                console.error('Error fetching user data:', error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            const response = await axios.post('http://13.60.221.226/api/logout');\r\n            if (response.status === 200) {\r\n                setUser(null);\r\n                setOrders([]); \r\n                localStorage.removeItem('token');\r\n                console.log('Logged out successfully');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error logging out:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"user-profile\">\r\n            <h2>Особистий кабінет</h2>\r\n            {user ? (\r\n                <>\r\n                    <p>Ім'я користувача: {user.username}</p>\r\n                    <p>Email: {user.email}</p>\r\n                    <p>Телефон: {user.phone}</p>\r\n\r\n                    <h3>Ваші замовлення</h3>\r\n                    {orders.length > 0 ? (\r\n                        <ul className=\"orders-list\">\r\n                            {orders.map((order, index) => (\r\n                                <li key={index}>\r\n                                    <strong>Order ID:</strong> {order._id} <br />\r\n                                    <strong>Order Status:</strong> {order.order} <br />\r\n                                    <strong>Order times</strong> {order.time}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    ) : (\r\n                        <p>Замовлення відсутні.</p>\r\n                    )}\r\n                </>\r\n            ) : (\r\n                <p>Завантаження даних користувача...</p>\r\n            )}\r\n\r\n            <Link to={'/'}>\r\n                <button className=\"btn-logout\" onClick={handleLogout}>Вийти</button>\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserProfile;\r\n"],"names":["UserProfile","user","setUser","useState","orders","setOrders","useEffect","fetchUserData","axios","async","token","localStorage","getItem","response","get","headers","data","error","console","_jsxs","className","children","_jsx","_Fragment","username","email","phone","length","map","order","index","_id","time","Link","to","onClick","post","status","removeItem","log"],"sourceRoot":""}