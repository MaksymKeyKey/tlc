{"version":3,"file":"static/js/518.fec5acdc.chunk.js","mappings":"sKAMA,MAsGA,EAtGiBA,IAAmB,IAAlB,SAAEC,GAAUD,EAC5B,MAAOE,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,OACtCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,OAC5BK,EAAaC,IAAkBN,EAAAA,EAAAA,UAAS,KACxCO,EAAMC,IAAWR,EAAAA,EAAAA,YAElBS,GAAWC,EAAAA,EAAAA,OACX,MAAEC,GAAUF,EAASG,OAAS,CAAC,GAC/B,SAAEC,GAAaJ,EAASG,OAAS,CAAC,GAClC,OAAEE,GAAWL,EAASG,OAAS,CAAC,EAyDtC,OAJAG,EAAAA,EAAAA,YAAU,KA3CcC,WACtB,IAEE,IAAIC,SADmBC,EAAAA,EAAMC,IAAI,qCACTC,KAAK,GAAGC,IAAIC,QAEhCX,IACFM,EAAWA,EAASM,QAAOD,GACzBA,EAAQF,MACRE,EAAQF,KAAKb,KAAKiB,MAAKC,GACrBA,EAAQd,OAASc,EAAQd,MAAMa,MAAKE,GAAKA,EAAEC,YAAchB,GAASc,EAAQlB,OAASM,GAAYY,EAAQlB,OAASO,SAKtH,MAAMc,EAAkBX,EAASY,SAAQP,GACvCA,EAAQF,KAAKb,KAAKsB,SAAQJ,GACxBA,EAAQd,MACLY,QAAOO,GAAMA,EAAGH,YAAchB,IAAOkB,SAAQC,GAAMA,EAAGC,WAIvDC,EAAYf,EAASY,SAAQP,GACjCA,EAAQF,KAAKb,KAAKsB,SAAQJ,GACxBA,EAAQlB,SAIRM,EACFL,EAAQwB,GACClB,GACTN,EAAQM,GAGVR,EAAesB,GACf7B,EAAckB,EAEhB,CAAE,MAAOd,GACPC,EAASD,EAAM8B,QACjB,CAAC,QACC/B,GAAW,EACb,GAIAgC,EAAiB,GAChB,CAACrC,IAEAI,GACKkC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,UAASC,SAAC,eAG9BlC,GACKmC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,QAAOC,SAAA,CAAC,UAAQlC,MAItCmC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qBAAoBC,SAAA,EACjCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iBAAgBC,SAAC,wEAC9BvC,IACCwC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAE1BF,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,GAAI,QAAS5B,MAAO,CAAEP,YAAaA,EAAaM,MAAOA,EAAOJ,KAAMA,GAAQ6B,UAAU,mBAAkBC,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,oBAExHvC,EAAW2C,KAAI,CAACnB,EAASoB,KACxBP,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,GAxEV3B,EACK,QAEA,SAqEyBD,MAAO,CAAE+B,YAAarB,EAAQF,KAAKb,KAAKgB,QAAOhB,GAAQA,EAAKA,OAASM,IAAWF,MAAOA,EAAOG,OAAQP,EAAMqC,UAAWtB,EAAQF,KAAKwB,WAAaR,UAAU,eAAcC,UACjMF,EAAAA,EAAAA,KAAA,OAAiBC,UAAU,eAAcC,UAEvCF,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAAA,KAAAE,SAAIf,EAAQF,KAAKyB,iBAHXH,YAYb,C","sources":["pages/chooseTeacher/teachers.jsx"],"sourcesContent":["import { useLocation } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport './teachers.css'\r\n\r\nconst Teachers = ({ schoolId }) => {\r\n  const [schoolData, setSchoolData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [allTeachers, setAllTeachers] = useState([]);\r\n  const [lang, setLang] = useState();\r\n\r\n  const location = useLocation();\r\n  const { level } = location.state || {};\r\n  const { language } = location.state || {};\r\n  const { lingua } = location.state || {};\r\n\r\n  const HandleFinish = () => {\r\n    if (language) {\r\n      return '/date';\r\n    } else {\r\n      return '/final';\r\n    }\r\n  };\r\n\r\n  const fetchSchoolData = async () => {\r\n    try {\r\n      const response = await axios.get(`http://13.60.221.226/api/schools`);\r\n      let teachers = response.data[0].ESL.teacher;\r\n\r\n      if (level) {\r\n        teachers = teachers.filter(teacher =>\r\n          teacher.data &&\r\n          teacher.data.lang.some(langObj =>\r\n            langObj.level && langObj.level.some(l => l.levelName === level && langObj.lang === language || langObj.lang === lingua)\r\n          )\r\n        );\r\n      }\r\n\r\n      const allTeacherDates = teachers.flatMap(teacher =>\r\n        teacher.data.lang.flatMap(langObj =>\r\n          langObj.level\r\n            .filter(lv => lv.levelName === level).flatMap(lv => lv.date)\r\n        )\r\n      );\r\n\r\n      const languages = teachers.flatMap(teacher =>\r\n        teacher.data.lang.flatMap(langObj =>\r\n          langObj.lang\r\n        )\r\n      );\r\n\r\n      if (language) {\r\n        setLang(languages);\r\n      } else if (lingua) {\r\n        setLang(lingua);\r\n      }\r\n\r\n      setAllTeachers(allTeacherDates);\r\n      setSchoolData(teachers);\r\n\r\n    } catch (error) {\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSchoolData();\r\n  }, [schoolId]);\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"teachers-container\">\r\n      <h1 className=\"teachers-title\">Оберіть мову</h1>\r\n      {schoolData && (\r\n        <div className=\"school-data\">\r\n\r\n          <div>\r\n            <Link to={'/date'} state={{ allTeachers: allTeachers, level: level, lang: lang }} className=\"select-date-link\"><button>Select Date</button></Link>\r\n          </div>\r\n          {schoolData.map((teacher, index) => (\r\n            <Link to={HandleFinish()} state={{ teacherDate: teacher.data.lang.filter(lang => lang.lang === language), level: level, lingua: lang, teacherId: teacher.data.teacherId }} className=\"teacher-link\">\r\n              <div key={index} className=\"teacher-item\">\r\n\r\n                <div>\r\n                  <p>{teacher.data.teacherName}</p>\r\n                </div>\r\n\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      )\r\n      }\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default Teachers;\r\n"],"names":["_ref","schoolId","schoolData","setSchoolData","useState","loading","setLoading","error","setError","allTeachers","setAllTeachers","lang","setLang","location","useLocation","level","state","language","lingua","useEffect","async","teachers","axios","get","data","ESL","teacher","filter","some","langObj","l","levelName","allTeacherDates","flatMap","lv","date","languages","message","fetchSchoolData","_jsx","className","children","_jsxs","Link","to","map","index","teacherDate","teacherId","teacherName"],"sourceRoot":""}