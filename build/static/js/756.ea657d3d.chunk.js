"use strict";(self.webpackChunkrlc=self.webpackChunkrlc||[]).push([[756],{756:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var l=a(43),n=a(216),s=a(213);const r=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const r=localStorage.getItem("token");if(r)try{const o=await t.get("http://13.60.221.226/api/me",{headers:{Authorization:`Bearer ${r}`}});console.log("Response Data:",o.data);const{user:c,orders:u}=o.data;e(c),a(c.username),l(c.email),n(c.phone),s(u)}catch(o){console.error("Error fetching user data:",o)}};var o=a(579);const c=()=>{const[e,t]=(0,l.useState)(""),[a,c]=(0,l.useState)(""),[u,i]=(0,l.useState)(""),[h,d]=(0,l.useState)(""),[g,p]=(0,l.useState)(null),[m,v]=(0,l.useState)(""),[S,f]=(0,l.useState)(""),[x,y]=(0,l.useState)(null),[j,b]=(0,l.useState)(null),k=(0,n.zy)(),{language:w}=k.state||{},{level:C}=k.state||{},{lingua:I}=k.state||{},{teacherId:A}=k.state||{};console.log(I,C,A),(0,l.useEffect)((()=>{(async()=>{await r(p,s.A,t,c,i);const e=localStorage.getItem("data"),a=localStorage.getItem("selectedDates");console.log(e),y(e),b(a),w?d(w):I&&d(I),v(C)})()}),[]);return(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"auth-form-container",children:[(0,o.jsx)("h2",{children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f"}),(0,o.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await s.A.post("http://13.60.221.226/api/registerorder",{username:e,email:a,phone:u,order:x,time:j,lang:h,levelName:m,teacherId:A});f(t.data.message)}catch(l){f(l.response?l.response.data.error:"An error occurred")}},children:[(0,o.jsx)("input",{type:"text",placeholder:"Username",value:e,onChange:e=>t(e.target.value)}),(0,o.jsx)("input",{type:"email",placeholder:"Email",value:a,onChange:e=>c(e.target.value)}),(0,o.jsx)("input",{type:"phone",placeholder:"Phone",value:u,onChange:e=>i(e.target.value)}),(0,o.jsx)("button",{type:"submit",children:"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"})]}),S&&(0,o.jsx)("p",{children:S})]})})}}}]);
//# sourceMappingURL=756.ea657d3d.chunk.js.map