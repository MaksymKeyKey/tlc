{"version":3,"file":"static/js/756.ea657d3d.chunk.js","mappings":"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","sources":["common/utils/smallFn/getUserData.js","pages/testFinalPage/testFinalPage.jsx"],"sourcesContent":["const fetchUserData = async (setUser, axios, setUsername = null, setEmail = null, setPhone = null, setOrders = null) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n        try {\r\n            const response = await axios.get('http://13.60.221.226/api/me', {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n\r\n            console.log('Response Data:', response.data);\r\n\r\n            const { user, orders } = response.data;\r\n\r\n            setUser(user);\r\n            setUsername(user.username);\r\n            setEmail(user.email);\r\n            setPhone(user.phone);\r\n            setOrders(orders)\r\n\r\n        } catch (error) {\r\n            console.error('Error fetching user data:', error);\r\n        }\r\n    }\r\n};\r\n\r\nexport default fetchUserData;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport fetchUserData from \"../../common/utils/smallFn/getUserData\";\r\n\r\nconst FinalPage = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [lang, setLang] = useState('');\r\n  const [user, setUser] = useState(null);\r\n  const [levelName, setLevelName] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [order, setOrder] = useState(null);\r\n  const [time, setTime] = useState(null);\r\n\r\n  const location = useLocation();\r\n  const { language } = location.state || {};\r\n  const { level } = location.state || {};\r\n  const { lingua } = location.state || {};\r\n  const { teacherId } = location.state || {};\r\n  \r\n  console.log(lingua, level, teacherId)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      await fetchUserData(setUser, axios, setUsername, setEmail, setPhone);\r\n\r\n      const existingData = localStorage.getItem('data');\r\n      const selectedTimes = localStorage.getItem('selectedDates');\r\n      console.log(existingData)\r\n      setOrder(existingData);\r\n      setTime(selectedTimes);\r\n      if (language) {\r\n        setLang(language)\r\n      } else if (lingua) {\r\n        setLang(lingua)\r\n      }\r\n      setLevelName(level)\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n\r\n      const response = await axios.post(\r\n        `http://13.60.221.226/api/registerorder`,\r\n        { username, email, phone, order, time, lang, levelName, teacherId }\r\n      );\r\n\r\n      setMessage(response.data.message);\r\n      \r\n    } catch (error) {\r\n      setMessage(error.response ? error.response.data.error : 'An error occurred');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"auth-form-container\">\r\n        <h2>Оформлення</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"phone\"\r\n            placeholder=\"Phone\"\r\n            value={phone}\r\n            onChange={(e) => setPhone(e.target.value)}\r\n          />\r\n\r\n          <button type=\"submit\">Замовити</button>\r\n        </form>\r\n        {message && <p>{message}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinalPage;\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["async","setUser","axios","setUsername","arguments","length","undefined","setEmail","setPhone","setOrders","token","localStorage","getItem","response","get","headers","console","log","data","user","orders","username","email","phone","error","FinalPage","useState","lang","setLang","levelName","setLevelName","message","setMessage","order","setOrder","time","setTime","location","useLocation","language","state","level","lingua","teacherId","useEffect","fetchUserData","existingData","selectedTimes","fetchData","_jsx","children","_jsxs","className","onSubmit","e","preventDefault","post","type","placeholder","value","onChange","target"],"sourceRoot":""}